!function(e){const a={};function t(){i(this)}function i(e){let t=!0;if(rdsPage.ErrorMessage(e),"inputValidation"in a)for(var i=0;i<a.inputValidation.length&&(t=a.inputValidation[i](e),t);i++);t&&(e.checkValidity()||rdsPage.ErrorMessage(e,e.validationMessage))}function s(){if(e(".rds-input:visible").each((function(){i(this)})),"beforeSave"in a)for(var t=0;t<a.beforeSave.length;t++)a.beforeSave[t]();if(0!=e(".rds-error-message:visible").length)return void alert("please check your input!");const s={};s.title=e("#page_name").val(),s.slug=e("#page_slug").val(),s.description=e("#description").val(),s.capability=e("#capability").val(),s.type=e("#page_type").val(),s.parent=e("#parent_menu").val(),s.menu_title=e("#menu_name").val(),s.icon=e("#page_icon").val(),s.position=e("#position").val(),mainWrapper={},mainWrapper.type="form_table",mainWrapper.id=e("#page_slug").val()+"_aft",mainWrapper.fields=[],mainWrapper.fields=window.getFields(),s.fields=[],s.fields.push(mainWrapper),console.log(JSON.stringify(s));var n=new FormData;n.append("action","radas_create_opt_page"),n.append("title",e("#page_name").val()),n.append("name",e("#page_slug").val()),n.append("op_json",JSON.stringify(s)),e.ajax({url:"admin-ajax.php",method:"post",data:n,processData:!1,contentType:!1,success:function(e){console.log(e),alert("Sukses")},error:function(e){console.log(e),alert(e)}})}e.fn.setRCS=function(){e(this).find("[data-rcs]").each((function(){this.getAttribute("data-rcs").split(";").forEach((e=>{const a=e.trim().split(":"),t=a[0].trim();t&&a.length>1&&this.style.setProperty("--rds-"+t,a[1].trim())}))}))},window.rdsPage={},window.rdsPage.addAction=function(e,t){e in a||(a[e]=[]),a[e].push(t)},window.rdsPage.ErrorMessage=function(a,t=""){a.$||(a=e(a));let i=a.siblings(".rds-error-message");if(!i.length){i=e('<div class="rds-error-message"></div>');const t=a.siblings(".rds-text-right");t.length?i.insertAfter(t):i.insertAfter(a)}e(i).text(t),""==t?a.removeClass("error"):a.addClass("error")},window.getData=function(a){e("#rds-fields-box-wrapper").addClass("hide"),e.ajax({url:"/wp-json/radas/v1/op-factory/"+a,method:"get",processData:!1,contentType:!1,success:function(a){console.log(a);const t=a.data.op;e("#post_id").val(a.data.id),e("#page_name").val(t.title),e("#page_slug").val(t.slug),e("#description").val(t.description),t.fields[0].fields.forEach((function(e){window.fillFBox(e)}))},error:function(e){console.log(e),alert("error")}}),e("#rds-fields-box-wrapper").removeClass("hide")},e(document).ready((function(){e("#rds-page").on("input",".rds-input",t),e("#rds-page").setRCS(),e(".btn-save-page").click(s),e(".rds-input:visible").first().focus()}))}(jQuery);