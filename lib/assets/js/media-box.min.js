!function(e){class t{input;btnUpload;btnRemove;preview;constructor(e){this.input=e.querySelector(".media-id"),this.btnUpload=e.querySelector(".upload-media-button"),this.btnRemove=e.querySelector(".remove-media-button"),this.preview=e.querySelector(".media-preview")}}e(document).ready((function(e){let i;document.querySelectorAll(".rds-media-input").forEach((e=>{i=new t(e),i.btnRemove.addEventListener("click",(e=>{i.input.value="",i.preview.innerHTML="",i.btnRemove.classList.toggle("hide")})),i.btnUpload.addEventListener("click",(e=>{const t=i.input.getAttribute("data-is-multiple")??!1,n=i.input.getAttribute("data-frame-title")??"Choose or Upload Media",o=i.input.getAttribute("data-frame-button-text")??"Use this media",a=i.input.getAttribute("data-media-type")??"image",r=wp.media({title:n,button:{text:o},multiple:t,library:{type:a}});r.on("select",(function(){const e=r.state().get("selection");e.each((function(e){console.log(e.toJSON())}));const t=e.first().toJSON();t.type==a?(i.input.value=t.id,i.preview.innerHTML='<img width="129" height="129" src="'+t.sizes.thumbnail.url+'" />',i.btnRemove.classList.toggle("hide",!1)):alert("The media you selected is not supported")})),r.open()}))}))}))}(jQuery);