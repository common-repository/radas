const e=new URL("./dialogbox.min.css?v=1727180045",import.meta.url),t=new URL("./spinner.min.css?v=1727180045",import.meta.url);let n=0;export const getCounter=()=>++n;export class elBinder extends EventTarget{#e={};constructor(){super()}_bind(e,t){const n=this,s=e.tagName;this.#e.hasOwnProperty(t)||(this.#e[t]={}),this.#e[t].tagName=s,this.#e[t].element=e,"INPUT"==s&&(this.#e[t].inputType=e.type),this.#t(s)?(this.#e[t].value=e.value,this.#n(t)?e.addEventListener("input",(e=>{n[t]=e.target.checked})):e.addEventListener("input",(e=>{n[t]=e.target.value}))):this.#e[t].value=e.textContent,("BUTTON"==s||e.hasAttribute("data-clickable"))&&e.addEventListener("click",(()=>{this.dispatchEvent(new CustomEvent("buttonClick",{bubbles:!0,detail:{handle:t,element:e}}))})),Object.defineProperty(this,t,{get:()=>n.#s(t),set(e){n.#i(t,e)}})}elBinded(e){return this.#e.hasOwnProperty(e)?this.#e[e].element:(console.warn(`Property '${e}' is not defined`),null)}#s(e){return this.#n(e)?this.#e[e].element.checked:this.#e[e].value}#i(e,t){this.#e.hasOwnProperty(e)?this.#e[e].hasOwnProperty("element")?(this.#l(e,t),this.#a(e,t)):console.warn(`Property '${e}' is not binded yet!`):console.warn(`Property '${e}' is not defined`)}#a(e,t){this.#e[e].value!=t&&(this.#e[e].value=t,this.dispatchEvent(new CustomEvent("input",{bubbles:!0,detail:{element:this.#e[e].element,handle:e,value:t}})))}#l(e,t){if(this.#n(e))return t=Boolean(t),void(this.#e[e].element.checked!=t&&(this.#e[e].element.checked=t));this.#t(this.#e[e].tagName)?this.#e[e].element.value!=t&&(this.#e[e].element.value=t):this.#e[e].element.textContent!=t&&(this.#e[e].element.textContent=t)}#t(e){return["INPUT","TEXTAREA","SELECT"].includes(e)}#n(e){return"INPUT"==this.#e[e].tagName&&("radio"==this.#e[e].inputType||"checkbox"==this.#e[e].inputType)}}export class eventList extends EventTarget{#o=new CustomEvent("empty");#d=new CustomEvent("single");#r=new CustomEvent("many");#c={};get count(){return Object.keys(this.#c).length}get list(){return this.#c}constructor(){super()}#h(){0==this.count&&this.dispatchEvent(this.#o),1==this.count&&this.dispatchEvent(this.#d),2==this.count&&this.dispatchEvent(this.#r)}add(e){this.dispatchEvent(new CustomEvent("add",{bubbles:!0,cancelable:!0,detail:{item:e}}))&&(this.#c[e.id]=e,this.#h(),e.addEventListener("input",(t=>{this.dispatchEvent(new CustomEvent("input",{bubbles:!0,detail:{item:e,element:t.detail.element,handle:t.detail.handle,value:t.detail.value}}))})))}remove(e){this.dispatchEvent(new CustomEvent("remove",{bubbles:!0,cancelable:!0,detail:{itemID:e,item:this.#c[e]}}))&&(this.#c[e].node.remove(),this.#c[e]=null,delete this.#c[e],this.#h())}get(e){return this.#c.hasOwnProperty(e)?this.#c[e]:null}}export class dialogBox extends EventTarget{node;#p={overlay:document.createElement("div"),wrapper:document.createElement("div"),header:document.createElement("div"),content:document.createElement("div"),footer:document.createElement("div"),title:document.createElement("h3"),btnClose:document.createElement("button")};#u;set width(e){this.#u=e,this.#p.wrapper.style.width=this.#u}get width(){return this.#u}#m;set maxWidth(e){this.#m=e,this.#p.wrapper.style.maxWidth=this.#m}get maxWidth(){return this.#m}#y;set title(e){this.#y=e,this.#p.title.textContent=this.#y}get title(){return this.#y}#v;set content(e){this.#v=e,"function"==typeof this.#v?this.#p.content.innerHTML=this.#v():this.#p.content.innerHTML=`<p class="text-content">${this.#v}</p>`}get content(){return this.#v}constructor(e){super(),this.createDialog(e),this.width="auto",this.maxWidth="480px"}async createDialog(t){if(null!==document.getElementById(t))return;await addCSSLink("rds-dialog-style",e);const n=this,s=this.#p;this.node=s.overlay,this.node.id=t,s.overlay.classList.add("rds-dialog-overlay"),s.wrapper.classList.add("rds-dialog-wrapper"),s.header.classList.add("rds-dialog-header"),s.content.classList.add("rds-dialog-content"),s.footer.classList.add("rds-dialog-footer"),s.btnClose.classList.add("btn-close","dashicons","dashicons-no"),s.overlay.append(s.wrapper),s.wrapper.append(s.header,s.content,s.footer),s.header.append(s.title,s.btnClose),s.btnClose.onclick=function(){n.close()},s.overlay.addEventListener("keydown",(function(e){"Escape"===e.key&&n.close()})),document.body.appendChild(s.overlay)}addButton(e){const t=this,n=e=>{const n=document.createElement("button");n.classList.add("button","button-secondary"),n.textContent=e,this.#p.footer.appendChild(n),n.onclick=()=>{t.dispatchEvent(new CustomEvent("buttonClick",{bubbles:!0,detail:{text:e}}))}};return Array.isArray(e)&&e.forEach((e=>{n(e)})),"string"==typeof e&&n(e),this}appendContent(e){this.#p.content.append(e)}close(){fadeOut(this.#p.overlay,70,(()=>{this.#p.overlay.classList.remove("active"),this.dispatchEvent(new CustomEvent("close",{bubbles:!0}))}))}open(){this.dispatchEvent(new CustomEvent("open",{bubbles:!0})),this.#p.overlay.style.opacity=0,this.#p.overlay.classList.add("active"),this.#p.btnClose.focus(),fadeIn(this.#p.overlay,70,(()=>{}))}}export const popupAlert=(e,t)=>{const n=new dialogBox("dlg-alert");n.title=e,n.content=t,n.addButton("OK"),n.addEventListener("buttonClick",(e=>{"OK"==e.detail.text&&e.target.close()})),n.addEventListener("close",(e=>{e.target.node.remove()})),n.open()};export const showSpinner=(e=!0)=>{(()=>{let e=document.getElementById("rds-spinner");if(null===e){addCSSLink("rds-spinner-style",t);let n=document.createElement("span");e=document.createElement("div"),e.id="rds-spinner",n.id="rds-spinner-loader",e.append(n),document.body.prepend(e)}return e})().classList.toggle("active",e)};export const getHTMLTemplate=e=>{const t=document.createElement("div");return t.appendChild(document.getElementById(e).content.cloneNode(!0)),t.firstElementChild};export const getFormValue=(e,t=!0)=>{let n={};return Object.values(e.elements).forEach((e=>{["INPUT","TEXTAREA","SELECT"].includes(e.tagName)&&e.value&&t&&(n[e.id]=e.value,"INPUT"==e.tagName&&["radio","checkbox"].includes(e.type)&&(n[e.id]=e.checked))})),JSON.stringify(n)};export const addCSSLink=(e,t)=>{if(null!==document.getElementById(e))return;const n=document.createElement("link");n.id=e,n.rel="stylesheet",n.type="text/css",n.href=t,document.head.appendChild(n)};export const addStyle=(e,t)=>{if(null!==document.getElementById(e))return;const n=document.createElement("style");n.id=e,n.innerHTML=t,document.head.appendChild(n)};export const animate={fadeIn(e,t={}){const n=t.hasOwnProperty("delay")?t.delay:500,s=t.hasOwnProperty("toggleClass")?t.toggleClass:"",i=t.hasOwnProperty("onComplete")?t.onComplete:null;e.style.opacity=0,s&&e.classList.toggle(s);let l=0;const a=1/n,o=setInterval((()=>{e.style.opacity=l,l>=1&&("function"==typeof i&&i(),clearInterval(o)),l+=a}),1)},fadeOut(e,t={}){const n=t.hasOwnProperty("delay")?t.delay:500,s=t.hasOwnProperty("toggleClass")?t.toggleClass:"",i=t.hasOwnProperty("onComplete")?t.onComplete:null;let l=1;const a=1/n,o=setInterval((()=>{e.style.opacity=l,l<=0&&("function"==typeof i&&i(),clearInterval(o),s&&e.classList.toggle(s)),l-=a}),1)},Expand(e,t={}){const n=t.hasOwnProperty("delay")?t.delay:500,s=t.hasOwnProperty("toggleClass")?t.toggleClass:"",i=t.hasOwnProperty("onComplete")?t.onComplete:null;e.style.opacity=0,s&&e.classList.toggle(s);let l=e.offsetHeight,a=0;const o=l/n,d=1/n,r=setInterval((()=>{l+=o,e.style.height=l+"px",a+=d,e.style.opacity=a,a>=1&&("function"==typeof i&&i(),clearInterval(r))}),1)},Collapse(e,t={}){const n=t.hasOwnProperty("delay")?t.delay:500,s=t.hasOwnProperty("toggleClass")?t.toggleClass:"",i=t.hasOwnProperty("onComplete")?t.onComplete:null;let l=e.clientHeight,a=1;const o=l/n,d=1/n,r=setInterval((()=>{l-=o,e.style.height=l+"px",a-=d,e.style.opacity=a,a<=0&&("function"==typeof i&&i(),clearInterval(r),s&&e.classList.toggle(s))}),1)}};export const animateCollapse=(e,t,n)=>{let s=e.offsetHeight,i=1;const l=s/t,a=1/t,o=setInterval((()=>{s-=l,e.style.height=s+"px",i-=a,e.style.opacity=i,i<=0&&(n(),clearInterval(o))}),1)};export const fadeIn=(e,t,n)=>{let s=0;const i=1/t,l=setInterval((()=>{e.style.opacity=s,s>=1&&(n(),clearInterval(l)),s+=i}),1)};export const fadeOut=(e,t,n)=>{let s=1;const i=1/t,l=setInterval((()=>{e.style.opacity=s,s<=0&&(n(),clearInterval(l)),s-=i}),1)};