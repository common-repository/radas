let e=0;export const getCounter=()=>++e;export class elBinder extends EventTarget{#e={};constructor(){super()}_bind(e,t){const n=this,s=e.tagName;this.#e.hasOwnProperty(t)||(this.#e[t]={}),this.#e[t].tagName=s,this.#e[t].element=e,"INPUT"==s&&(this.#e[t].inputType=e.type),this.#t(s)?(this.#e[t].value=e.value,this.#n(t)?e.addEventListener("input",(e=>{n[t]=e.target.checked})):e.addEventListener("input",(e=>{n[t]=e.target.value}))):this.#e[t].value=e.textContent,("BUTTON"==s||e.hasAttribute("data-clickable"))&&e.addEventListener("click",(()=>{this.dispatchEvent(new CustomEvent("buttonClick",{bubbles:!0,detail:{handle:t,element:e}}))})),Object.defineProperty(this,t,{get:()=>n.#s(t),set(e){n.#i(t,e)}})}elBinded(e){return this.#e.hasOwnProperty(e)?this.#e[e].element:(console.warn(`Property '${e}' is not defined`),null)}#s(e){return this.#n(e)?this.#e[e].element.checked:this.#e[e].value}#i(e,t){this.#e.hasOwnProperty(e)?this.#e[e].hasOwnProperty("element")?(this.#o(e,t),this.#l(e,t)):console.warn(`Property '${e}' is not binded yet!`):console.warn(`Property '${e}' is not defined`)}#l(e,t){this.#e[e].value!=t&&(this.#e[e].value=t,this.dispatchEvent(new CustomEvent("input",{bubbles:!0,detail:{element:this.#e[e].element,handle:e,value:t}})))}#o(e,t){if(this.#n(e))return t=Boolean(t),void(this.#e[e].element.checked!=t&&(this.#e[e].element.checked=t));this.#t(this.#e[e].tagName)?this.#e[e].element.value!=t&&(this.#e[e].element.value=t):this.#e[e].element.textContent!=t&&(this.#e[e].element.textContent=t)}#t(e){return["INPUT","TEXTAREA","SELECT"].includes(e)}#n(e){return"INPUT"==this.#e[e].tagName&&("radio"==this.#e[e].inputType||"checkbox"==this.#e[e].inputType)}}export class eventList extends EventTarget{#a=new CustomEvent("empty");#r=new CustomEvent("single");#d=new CustomEvent("many");#c={};get count(){return Object.keys(this.#c).length}get list(){return this.#c}constructor(){super()}#h(){0==this.count&&this.dispatchEvent(this.#a),1==this.count&&this.dispatchEvent(this.#r),2==this.count&&this.dispatchEvent(this.#d)}add(e){this.dispatchEvent(new CustomEvent("add",{bubbles:!0,cancelable:!0,detail:{item:e}}))&&(this.#c[e.id]=e,this.#h(),e.addEventListener("input",(t=>{this.dispatchEvent(new CustomEvent("input",{bubbles:!0,detail:{item:e,element:t.detail.element,handle:t.detail.handle,value:t.detail.value}}))})))}remove(e){this.dispatchEvent(new CustomEvent("remove",{bubbles:!0,cancelable:!0,detail:{itemID:e,item:this.#c[e]}}))&&(this.#c[e].node.remove(),this.#c[e]=null,delete this.#c[e],this.#h())}get(e){return this.#c.hasOwnProperty(e)?this.#c[e]:null}}export const animate={fadeIn(e,t={}){const n=t.hasOwnProperty("delay")?t.delay:500,s=t.hasOwnProperty("toggleClass")?t.toggleClass:"",i=t.hasOwnProperty("onComplete")?t.onComplete:null;e.style.opacity=0,s&&e.classList.toggle(s);let o=0;const l=1/n,a=setInterval((()=>{e.style.opacity=o,o>=1&&("function"==typeof i&&i(),clearInterval(a)),o+=l}),1)},fadeOut(e,t={}){const n=t.hasOwnProperty("delay")?t.delay:500,s=t.hasOwnProperty("toggleClass")?t.toggleClass:"",i=t.hasOwnProperty("onComplete")?t.onComplete:null;let o=1;const l=1/n,a=setInterval((()=>{e.style.opacity=o,o<=0&&("function"==typeof i&&i(),clearInterval(a),s&&e.classList.toggle(s)),o-=l}),1)},Expand(e,t={}){const n=t.hasOwnProperty("delay")?t.delay:500,s=t.hasOwnProperty("toggleClass")?t.toggleClass:"",i=t.hasOwnProperty("onComplete")?t.onComplete:null;e.style.opacity=0,s&&e.classList.toggle(s);let o=e.offsetHeight,l=0;const a=o/n,r=1/n,d=setInterval((()=>{o+=a,e.style.height=o+"px",l+=r,e.style.opacity=l,l>=1&&("function"==typeof i&&i(),clearInterval(d))}),1)},Collapse(e,t={}){const n=t.hasOwnProperty("delay")?t.delay:500,s=t.hasOwnProperty("toggleClass")?t.toggleClass:"",i=t.hasOwnProperty("onComplete")?t.onComplete:null;let o=e.clientHeight,l=1;const a=o/n,r=1/n,d=setInterval((()=>{o-=a,e.style.height=o+"px",l-=r,e.style.opacity=l,l<=0&&("function"==typeof i&&i(),clearInterval(d),s&&e.classList.toggle(s))}),1)}};export const animateCollapse=(e,t,n)=>{let s=e.offsetHeight,i=1;const o=s/t,l=1/t,a=setInterval((()=>{s-=o,e.style.height=s+"px",i-=l,e.style.opacity=i,i<=0&&(n(),clearInterval(a))}),1)};export const fadeIn=(e,t,n)=>{let s=0;const i=1/t,o=setInterval((()=>{e.style.opacity=s,s>=1&&(n(),clearInterval(o)),s+=i}),1)};export const fadeOut=(e,t,n)=>{let s=1;const i=1/t,o=setInterval((()=>{e.style.opacity=s,s<=0&&(n(),clearInterval(o)),s-=i}),1)};export class dialogBox extends EventTarget{node;#p={overlay:document.createElement("div"),wrapper:document.createElement("div"),header:document.createElement("div"),content:document.createElement("div"),footer:document.createElement("div"),title:document.createElement("h3"),btnClose:document.createElement("button")};#u;set width(e){this.#u=e,this.#p.wrapper.style.width=this.#u}get width(){return this.#u}#m;set maxWidth(e){this.#m=e,this.#p.wrapper.style.maxWidth=this.#m}get maxWidth(){return this.#m}#y;set title(e){this.#y=e,this.#p.title.textContent=this.#y}get title(){return this.#y}#g;set content(e){this.#g=e,"function"==typeof this.#g?this.#p.content.innerHTML=this.#g():this.#p.content.innerHTML=`<p class="text-content">${this.#g}</p>`}get content(){return this.#g}constructor(e){super(),this.createDialog(e),this.width="auto",this.maxWidth="480px"}createCSS(){const e="rds-dialog-style";if(null!==document.getElementById(e))return;const t=document.createElement("style");t.id=e,t.innerHTML="\n        .rds-dialog-overlay {\n            display: none;\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background-color: rgba(0, 0, 0, 0.25);\n            z-index: 9999;\n        }\n        \n        .rds-dialog-overlay.active {\n            display: block;\n        }\n        \n        .rds-dialog-overlay div {\n            display: flex;\n        }\n        \n        .rds-dialog-overlay button.button {\n            margin: 8px 0;\n            min-width: 65px;\n        }\n        \n        button.btn-close:focus {\n            outline-style: auto;\n            outline-width: thin;\n            border-radius: 3px;\n        }\n        \n        button.btn-close {\n            border: none;\n            background-color: unset;\n            padding: 0;\n            cursor: pointer;\n        }\n\n        .rds-dialog-wrapper {\n            display: flex;\n            flex-direction: column;\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            min-width: 320px;\n            transform: translate(-50%, -50%);\n            background-color: #f9f9f9;\n            border-radius: 5px;\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\n            overflow: hidden;\n        }\n        \n        .rds-dialog-header {\n            background-color: white;\n            padding: 0 12px;\n            justify-content:space-between ;\n            align-items: center;\n        }\n        \n        .rds-dialog-header h3 {\n            margin: 12px 0;\n        }\n        \n        .rds-dialog-content {\n            flex-direction: column;\n            border-top: thin solid rgb(195, 196, 199, 0.75);\n            padding: 8px 24px;    \n        }\n        \n        .rds-dialog-footer {\n            padding: 0 24px 12px;\n            justify-content: flex-end;\n            column-gap: 8px;\n        }\n        \n        .rds-dialog-footer:empty {\n            display: none!important;\n        }\n        ",document.head.appendChild(t)}createDialog(e){if(null!==document.getElementById(e))return;this.createCSS();const t=this,n=this.#p;this.node=n.overlay,this.node.id=e,n.overlay.classList.add("rds-dialog-overlay"),n.wrapper.classList.add("rds-dialog-wrapper"),n.header.classList.add("rds-dialog-header"),n.content.classList.add("rds-dialog-content"),n.footer.classList.add("rds-dialog-footer"),n.btnClose.classList.add("btn-close","dashicons","dashicons-no"),n.overlay.append(n.wrapper),n.wrapper.append(n.header,n.content,n.footer),n.header.append(n.title,n.btnClose),n.btnClose.onclick=function(){t.close()},n.overlay.addEventListener("keydown",(function(e){"Escape"===e.key&&t.close()})),document.body.appendChild(n.overlay)}addButton(e){const t=this,n=e=>{const n=document.createElement("button");n.classList.add("button","button-secondary"),n.textContent=e,this.#p.footer.appendChild(n),n.onclick=()=>{t.dispatchEvent(new CustomEvent("buttonClick",{bubbles:!0,detail:{text:e}}))}};return Array.isArray(e)&&e.forEach((e=>{n(e)})),"string"==typeof e&&n(e),this}appendContent(e){this.#p.content.append(e)}close(){fadeOut(this.#p.overlay,70,(()=>{this.#p.overlay.classList.remove("active"),this.dispatchEvent(new CustomEvent("close",{bubbles:!0}))}))}open(){this.dispatchEvent(new CustomEvent("open",{bubbles:!0})),this.#p.overlay.style.opacity=0,this.#p.overlay.classList.add("active"),this.#p.btnClose.focus(),fadeIn(this.#p.overlay,70,(()=>{}))}}export const popupAlert=(e,t)=>{const n=new dialogBox("dlg-alert");n.title=e,n.content=t,n.addButton("OK"),n.addEventListener("buttonClick",(e=>{"OK"==e.detail.text&&e.target.close()})),n.addEventListener("close",(e=>{e.target.node.remove()})),n.open()};export const showSpinner=(e=!0)=>{(()=>{let e=document.getElementById("rds-spinner");if(null===e){(()=>{const e="rds-spinner-style";if(null!==document.getElementById(e))return;const t=document.createElement("style");t.id=e,t.innerHTML="\n        #rds-spinner {\n            display: none;\n            position: fixed;\n            width: 100%;\n            height: 100%;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background-color: rgba(0,0,0,0.1);    \n            z-index: 9998;\n        }\n        \n        #rds-spinner.active {\n            display: block;\n        }\n        \n        #rds-spinner.active #rds-spinner-loader {\n            width: 48px;\n            height: 48px;\n            border: 5px solid #818181;\n            border-bottom-color: transparent;\n            border-radius: 50%;\n            display: inline-block;\n            position: absolute;\n            top: 50%;\n            left: 50%;    \n            box-sizing: border-box;\n            animation: rotation 1s linear infinite;\n        \n            @keyframes rotation {\n                0% {\n                    transform: rotate(0deg);\n                }\n                100% {\n                    transform: rotate(360deg);\n                }\n            }     \n        }\n        ",document.head.appendChild(t)})();let t=document.createElement("span");e=document.createElement("div"),e.id="rds-spinner",t.id="rds-spinner-loader",e.append(t),document.body.prepend(e)}return e})().classList.toggle("active",e)};export const getHTMLTemplate=e=>{const t=document.createElement("div");return t.appendChild(document.getElementById(e).content.cloneNode(!0)),t.firstElementChild};export const getFormValue=(e,t=!0)=>{let n={};return Object.values(e.elements).forEach((e=>{["INPUT","TEXTAREA","SELECT"].includes(e.tagName)&&e.value&&t&&(n[e.id]=e.value,"INPUT"==e.tagName&&["radio","checkbox"].includes(e.type)&&(n[e.id]=e.checked))})),JSON.stringify(n)};